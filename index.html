<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 기반 영업 교육 슬라이드쇼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f0f2f5;
        }
        .slide {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 600px;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 100%;
            min-height: 300px;
            max-height: 450px;
            margin-left: auto;
            margin-right: auto;
        }
        .gemini-button {
            background-color: #118AB2;
            color: white;
            font-weight: bold;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: background-color 0.3s;
        }
        .gemini-button:hover {
            background-color: #073B4C;
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: #118AB2;
            animation: spin 1s ease infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100 text-[#073B4C]">

    <header class="bg-[#073B4C] text-white text-center py-8 px-4">
        <h1 class="text-4xl md:text-5xl font-black mb-2">AI 기반 영업 전문가 성장 프로그램</h1>
        <p class="text-lg md:text-xl text-[#FFD166]">AI와 함께 실전 역량을 강화하는 핵심 모듈</p>
    </header>

    <main class="container mx-auto p-4 md:p-8 max-w-5xl">
        <div id="slideshow-container" class="relative">
            <button id="prev-btn" class="absolute top-1/2 -left-4 md:-left-16 transform -translate-y-1/2 bg-white/70 hover:bg-white focus:outline-none shadow-md rounded-full w-12 h-12 flex items-center justify-center text-2xl font-bold text-gray-700 z-10 transition-colors">❮</button>
            <button id="next-btn" class="absolute top-1/2 -right-4 md:-right-16 transform -translate-y-1/2 bg-white/70 hover:bg-white focus:outline-none shadow-md rounded-full w-12 h-12 flex items-center justify-center text-2xl font-bold text-gray-700 z-10 transition-colors">❯</button>

            <div class="slide">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-[#118AB2]">M1: AI 기반 팜스코 사료영업 고객 페르소나 만들기</h2>
                     <span class="font-bold text-gray-400">Page 1 / 6</span>
                </div>
                <div class="flex-grow flex flex-col justify-center">
                    <h3 class="text-xl font-bold mb-4 text-center">🎯 이상적인 고객 페르소나 정의하기</h3>
                    <p class="text-sm text-gray-600 mb-6 text-center">아래 항목들을 구체적으로 기입하여 팜스코 사료 영업을 위한 핵심 고객 페르소나를 만들고, AI를 통해 맞춤 전략을 얻어보세요.</p>
                    <div class="bg-gray-50 border border-gray-200 rounded-lg p-6 max-w-3xl mx-auto w-full">
                        <div class="space-y-4 text-sm">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                 <div>
                                    <label for="persona-name" class="font-bold">페르소나 이름</label>
                                    <input type="text" id="persona-name" class="w-full p-2 mt-1 border border-gray-300 rounded-md" placeholder="예: 스마트한 축산인 김사장">
                                </div>
                                 <div>
                                    <label for="persona-age" class="font-bold">나이</label>
                                    <input type="number" id="persona-age" class="w-full p-2 mt-1 border border-gray-300 rounded-md" placeholder="예: 45">
                                </div>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                   <label for="persona-location" class="font-bold">주요 활동 지역</label>
                                   <input type="text" id="persona-location" class="w-full p-2 mt-1 border border-gray-300 rounded-md" placeholder="예: 경기도 이천">
                               </div>
                                <div>
                                   <label for="main-livestock" class="font-bold">주력 축종 및 규모</label>
                                   <input type="text" id="main-livestock" class="w-full p-2 mt-1 border border-gray-300 rounded-md" placeholder="예: 한우, 150두">
                               </div>
                           </div>
                            <div>
                                <label for="persona-goals" class="font-bold">사업 목표 (Goals)</label>
                                <textarea id="persona-goals" class="w-full p-2 mt-1 border border-gray-300 rounded-md" rows="2" placeholder="예: 생산성 10% 향상, HACCP 인증 획득, 가공 및 직거래 판로 개척"></textarea>
                            </div>
                            <div>
                                <label for="persona-challenges" class="font-bold">주요 어려움 (Pain Points)</label>
                                <textarea id="persona-challenges" class="w-full p-2 mt-1 border border-gray-300 rounded-md" rows="2" placeholder="예: 사료비 부담 증가, 질병 관리의 어려움, 최신 정보 부족, 인력난"></textarea>
                            </div>
                            <div>
                                <label for="persona-personality" class="font-bold">성격 및 가치관 (Personality)</label>
                                <input type="text" id="persona-personality" class="w-full p-2 mt-1 border border-gray-300 rounded-md" placeholder="예: 신중하고 분석적, 커뮤니티 내 신뢰 중시, 새로운 기술에 개방적">
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                 <div>
                                    <label for="purchase-factors" class="font-bold">사료 선택 시 중요 요인</label>
                                    <input type="text" id="purchase-factors" class="w-full p-2 mt-1 border border-gray-300 rounded-md" placeholder="예: 성분 및 품질, 가격 대비 성능(가성비), 전문가 추천">
                                </div>
                                 <div>
                                    <label for="info-sources" class="font-bold">주요 정보 채널</label>
                                    <input type="text" id="info-sources" class="w-full p-2 mt-1 border border-gray-300 rounded-md" placeholder="예: 축산 전문지, 지역 축협 모임, 온라인 커뮤니티">
                                </div>
                            </div>
                             <button id="persona-generator-btn" class="gemini-button w-full mt-4">✨ AI 페르소나 분석 및 전략 제안</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="slide">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-[#06D6A0]">M2: 고객 유형별 맞춤 접근법 (SPIN 셀링)</h2>
                    <span class="font-bold text-gray-400">Page 2 / 6</span>
                </div>
                 <div class="flex-grow flex flex-col justify-center">
                    <h3 class="text-xl font-bold mb-4 text-center">AI를 활용한 고객 관점의 SPIN 스크립트 생성</h3>
                    <p class="text-sm text-gray-600 mb-6 text-center max-w-2xl mx-auto">고객 유형별로 SPIN 질문 기법을 활용하여 고객 스스로 니즈를 발견하게 하는 대화 스크립트를 생성해 보세요.</p>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                        <div id="type-data" class="flex flex-col items-center p-4 border border-gray-200 rounded-lg text-center">
                            <span class="text-4xl mb-2">📊</span>
                            <h4 class="font-bold">데이터 신봉형</h4>
                            <p class="text-sm text-gray-600 mt-1 mb-4">숫자와 데이터 기반의 명확한 근거를 제시할 때 신뢰하며, 효율성과 ROI를 가장 중요하게 생각합니다.</p>
                            <button class="gemini-button script-generator-btn mt-auto" data-type="데이터 신봉형" data-desc="숫자와 데이터 기반의 명확한 근거를 제시할 때 신뢰하며, 효율성과 ROI를 가장 중요하게 생각합니다.">✨ SPIN 스크립트 생성</button>
                        </div>
                        <div id="type-relation" class="flex flex-col items-center p-4 border border-gray-200 rounded-lg text-center">
                            <span class="text-4xl mb-2">🤝</span>
                            <h4 class="font-bold">의리파 형님형</h4>
                            <p class="text-sm text-gray-600 mt-1 mb-4">인간적인 관계와 신뢰를 우선시합니다. 꾸준한 관심과 진정성 있는 태도가 효과적입니다.</p>
                            <button class="gemini-button script-generator-btn mt-auto" data-type="의리파 형님형" data-desc="인간적인 관계와 신뢰를 우선시합니다. 꾸준한 관심과 진정성 있는 태도가 효과적입니다.">✨ SPIN 스크립트 생성</button>
                        </div>
                        <div id="type-careful" class="flex flex-col items-center p-4 border border-gray-200 rounded-lg text-center">
                            <span class="text-4xl mb-2">🔍</span>
                            <h4 class="font-bold">신중한 탐색가형</h4>
                            <p class="text-sm text-gray-600 mt-1 mb-4">결정까지 다양한 정보를 비교하고 검토합니다. 충분한 정보와 선택지를 제공해야 합니다.</p>
                            <button class="gemini-button script-generator-btn mt-auto" data-type="신중한 탐색가형" data-desc="결정까지 다양한 정보를 비교하고 검토합니다. 충분한 정보와 선택지를 제공해야 합니다.">✨ SPIN 스크립트 생성</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="slide">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-[#FF6B6B]">M3: 거절을 기회로 바꾸는 대처법</h2>
                    <span class="font-bold text-gray-400">Page 3 / 6</span>
                </div>
                <div class="flex-grow flex flex-col justify-center">
                    <h3 class="text-xl font-bold mb-4 text-center">✨ AI와 함께하는 거절 극복 훈련</h3>
                    <p class="text-sm text-gray-600 mb-6 text-center">고객의 실제 거절 멘트를 입력하고, AI가 제안하는 다양한 대처법을 확인해 보세요.</p>
                    <div class="max-w-xl mx-auto w-full">
                        <textarea id="objection-input" class="w-full p-2 border border-gray-300 rounded-md" rows="3" placeholder="예: '지금은 바빠요', '가격이 너무 비싸네요'"></textarea>
                        <button id="objection-handler-btn" class="gemini-button w-full mt-2">✨ 대처법 생성하기</button>
                    </div>
                </div>
            </div>

            <div class="slide">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-[#EF476F]">M4: AI를 활용한 고객 관리</h2>
                     <span class="font-bold text-gray-400">Page 4 / 6</span>
                </div>
                <div class="flex-grow flex flex-col justify-center">
                    <h3 class="text-xl font-bold mb-4 text-center">✨ AI 후속 메시지 초안 작성 도우미</h3>
                    <p class="text-sm text-gray-600 mb-6 text-center">미팅의 핵심 내용을 간략히 입력하면 AI가 고객에게 보낼 후속 메시지 초안을 작성해 줍니다.</p>
                    <div class="max-w-xl mx-auto w-full">
                        <textarea id="meeting-notes-input" class="w-full p-2 border border-gray-300 rounded-md" rows="4" placeholder="미팅 날짜, 논의된 고객의 문제점, 제안한 해결책, 다음 단계 등을 입력하세요."></textarea>
                        <button id="followup-generator-btn" class="gemini-button w-full mt-2">✨ 후속 메시지 초안 작성</button>
                    </div>
                </div>
            </div>

            <div class="slide">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-[#FFD166]">M5: 핵심고객 3개월 집중 관리 플랜</h2>
                    <span class="font-bold text-gray-400">Page 5 / 6</span>
                </div>
                <div class="flex-grow flex flex-col justify-center">
                    <h3 class="text-xl font-bold mb-2 text-center">✨ AI 추천 3개월 고객 관리 계획</h3>
                    <p class="text-sm text-gray-600 mb-6 text-center">나의 핵심 고객 3명에 대한 정보를 입력하고, AI가 제안하는 맞춤형 3개월 관리 계획을 받아보세요.</p>
                    <div class="space-y-6 max-w-4xl mx-auto w-full text-sm">
                        <!-- Customer 1 -->
                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                            <h4 class="font-bold text-base mb-3 text-[#073B4C]">고객 1</h4>
                            <div class="space-y-3">
                                <input type="text" id="cust1-name" placeholder="고객 이름 / 농장명" class="w-full p-2 border rounded">
                                <input type="text" id="cust1-livestock" placeholder="주력 축종 및 규모 (예: 양돈, 2000두)" class="w-full p-2 border rounded">
                                <input type="text" id="cust1-products" placeholder="현재 사용 중인 팜스코 제품" class="w-full p-2 border rounded">
                                <select id="cust1-relation" class="w-full p-2 border rounded">
                                    <option value="신규/거래초기">관계: 신규/거래초기</option>
                                    <option value="안정적 관계">관계: 안정적 관계</option>
                                    <option value="파트너 관계">관계: 파트너 관계</option>
                                </select>
                                <textarea id="cust1-goals" class="w-full p-2 border rounded" rows="2" placeholder="고객의 주요 목표 및 관심사 (예: MSY 2두 향상, 사료효율 개선)"></textarea>
                                <textarea id="cust1-issues" class="w-full p-2 border rounded" rows="2" placeholder="최근 교류 내용 및 주요 이슈 (예: 자돈 설사 문제로 상담, 신제품 가격 문의)"></textarea>
                            </div>
                        </div>
                        <!-- Customer 2 -->
                         <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                            <h4 class="font-bold text-base mb-3 text-[#073B4C]">고객 2</h4>
                            <div class="space-y-3">
                                <input type="text" id="cust2-name" placeholder="고객 이름 / 농장명" class="w-full p-2 border rounded">
                                <input type="text" id="cust2-livestock" placeholder="주력 축종 및 규모" class="w-full p-2 border rounded">
                                <input type="text" id="cust2-products" placeholder="현재 사용 중인 팜스코 제품" class="w-full p-2 border rounded">
                                <select id="cust2-relation" class="w-full p-2 border rounded">
                                    <option value="신규/거래초기">관계: 신규/거래초기</option>
                                    <option value="안정적 관계">관계: 안정적 관계</option>
                                    <option value="파트너 관계">관계: 파트너 관계</option>
                                </select>
                                <textarea id="cust2-goals" class="w-full p-2 border rounded" rows="2" placeholder="고객의 주요 목표 및 관심사"></textarea>
                                <textarea id="cust2-issues" class="w-full p-2 border rounded" rows="2" placeholder="최근 교류 내용 및 주요 이슈"></textarea>
                            </div>
                        </div>
                        <!-- Customer 3 -->
                         <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                            <h4 class="font-bold text-base mb-3 text-[#073B4C]">고객 3</h4>
                            <div class="space-y-3">
                                <input type="text" id="cust3-name" placeholder="고객 이름 / 농장명" class="w-full p-2 border rounded">
                                <input type="text" id="cust3-livestock" placeholder="주력 축종 및 규모" class="w-full p-2 border rounded">
                                <input type="text" id="cust3-products" placeholder="현재 사용 중인 팜스코 제품" class="w-full p-2 border rounded">
                                <select id="cust3-relation" class="w-full p-2 border rounded">
                                    <option value="신규/거래초기">관계: 신규/거래초기</option>
                                    <option value="안정적 관계">관계: 안정적 관계</option>
                                    <option value="파트너 관계">관계: 파트너 관계</option>
                                </select>
                                <textarea id="cust3-goals" class="w-full p-2 border rounded" rows="2" placeholder="고객의 주요 목표 및 관심사"></textarea>
                                <textarea id="cust3-issues" class="w-full p-2 border rounded" rows="2" placeholder="최근 교류 내용 및 주요 이슈"></textarea>
                            </div>
                        </div>
                        <button id="management-plan-generator-btn" class="gemini-button w-full mt-4">✨ AI 3개월 관리 플랜 생성</button>
                    </div>
                </div>
            </div>
            
            <div class="slide">
                 <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-[#4ECDC4]">M6: 나만의 맞춤 영업 체크리스트 만들기</h2>
                    <span class="font-bold text-gray-400">Page 6 / 6</span>
                </div>
                <div class="flex-grow flex flex-col justify-center">
                    <h3 class="text-xl font-bold mb-2 text-center">✅ 나의 영업 프로세스 점검 및 강화</h3>
                    <p class="text-sm text-gray-600 mb-6 text-center">영업 활동의 핵심 단계를 선택하여 나만의 체크리스트를 만들고, AI의 맞춤형 조언을 받아보세요.</p>
                    <div id="checklist-container" class="max-w-4xl mx-auto w-full text-sm space-y-4">
                        <div class="space-y-4">
                            <div>
                                <h4 class="font-bold text-base mb-2 text-[#073B4C]">준비 및 계획 단계</h4>
                                <div class="space-y-2">
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="판매 목표 설정 (SMART 원칙)">판매 목표 설정 (SMART 원칙)</label>
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="핵심 타겟 고객 정의 (페르소나)">핵심 타겟 고객 정의 (페르소나)</label>
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="잠재고객 리서치 및 정보 수집">잠재고객 리서치 및 정보 수집</label>
                                </div>
                            </div>
                             <div>
                                <h4 class="font-bold text-base mb-2 text-[#073B4C]">실행 및 고객 접점 단계</h4>
                                <div class="space-y-2">
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="맞춤형 영업 스크립트 준비">맞춤형 영업 스크립트 준비</label>
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="고객 니즈 분석 (SPIN 활용)">고객 니즈 분석 (SPIN 활용)</label>
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="고객 반론 및 거절 대응">고객 반론 및 거절 대응</label>
                                </div>
                            </div>
                             <div>
                                <h4 class="font-bold text-base mb-2 text-[#073B4C]">사후 관리 및 관계 강화</h4>
                                <div class="space-y-2">
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="거래 후 감사 및 온보딩">거래 후 감사 및 온보딩</label>
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="정기적인 후속 조치 및 관리">정기적인 후속 조치 및 관리</label>
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="추가/교차 판매 기회 발굴">추가/교차 판매 기회 발굴</label>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-bold text-base mb-2 text-[#073B4C]">성과 분석 및 역량 강화</h4>
                                <div class="space-y-2">
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="핵심 판매 지표 추적 (KPI)">핵심 판매 지표 추적 (KPI)</label>
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="활동 내용 기록 및 분석 (CRM)">활동 내용 기록 및 분석 (CRM)</label>
                                    <label class="flex items-center"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2" value="지속적인 학습 및 개선">지속적인 학습 및 개선</label>
                                </div>
                            </div>
                        </div>
                        <div class="pt-4">
                             <h4 class="font-bold text-base mb-2 text-[#073B4C]">나만의 항목 추가</h4>
                             <textarea id="custom-checklist-items" class="w-full p-2 border rounded" rows="3" placeholder="체크리스트에 추가하고 싶은 나만의 항목을 입력하세요. (줄바꿈으로 구분)"></textarea>
                        </div>
                         <button id="checklist-generator-btn" class="gemini-button w-full mt-4">✨ AI 맞춤형 조언 생성</button>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <div id="gemini-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 flex items-center justify-center">
        <div class="relative mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-4">
                    <h3 id="modal-title" class="text-lg leading-6 font-bold text-gray-900">AI 생성 결과</h3>
                    <button id="close-modal-button" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
                </div>
                <div id="modal-content" class="mt-2 px-2 py-3 max-h-96 overflow-y-auto">
                    <div id="modal-loader" class="flex justify-center items-center py-10">
                        <div class="spinner"></div>
                        <p class="ml-4">생성 중입니다. 잠시만 기다려주세요...</p>
                    </div>
                    <p id="modal-text" class="text-sm text-gray-700 text-left whitespace-pre-wrap"></p>
                </div>
                <div class="flex justify-end items-center px-4 py-3 border-t">
                    <span id="copy-success" class="text-sm text-green-600 mr-4 hidden">복사 완료!</span>
                    <button id="regenerate-button" class="gemini-button mr-2">✨ 다시 생성</button>
                    <button id="copy-button" class="bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded hover:bg-gray-300 mr-2">복사하기</button>
                </div>
            </div>
        </div>
    </div>
    
    <footer class="bg-[#073B4C] text-white text-center py-6 px-4">
        <p>&copy; 2025 Sales Growth Program. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // SLIDESHOW LOGIC
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            let currentSlide = 0;

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    if (i === index) {
                        slide.classList.remove('hidden');
                    } else {
                        slide.classList.add('hidden');
                    }
                });
            }

            function nextSlide() {
                currentSlide = (currentSlide + 1) % slides.length;
                showSlide(currentSlide);
            }

            function prevSlide() {
                currentSlide = (currentSlide - 1 + slides.length) % slides.length;
                showSlide(currentSlide);
            }

            prevBtn.addEventListener('click', prevSlide);
            nextBtn.addEventListener('click', nextSlide);
            
            showSlide(currentSlide);

            // MODAL AND GEMINI API LOGIC
            const modal = document.getElementById('gemini-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalLoader = document.getElementById('modal-loader');
            const modalText = document.getElementById('modal-text');
            const closeModalButton = document.getElementById('close-modal-button');
            const regenerateButton = document.getElementById('regenerate-button');
            const copyButton = document.getElementById('copy-button');
            const copySuccessMessage = document.getElementById('copy-success');

            let lastPrompt = '';

            const openModal = () => modal.classList.remove('hidden');
            const closeModal = () => modal.classList.add('hidden');

            closeModalButton.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal();
            });

            async function callGeminiAPI(prompt, retries = 3, delay = 1000) {
                const apiKey = "AIzaSyB0GwdQwPzmHqOjLh42nyZg7-YNKs9Ama0"; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                const payload = { contents: [{ parts: [{ text: prompt }] }] };

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();
                    return result.candidates?.[0]?.content?.parts?.[0]?.text || "결과를 생성할 수 없습니다. 다시 시도해 주세요.";
                } catch (error) {
                    if (retries > 0) {
                        await new Promise(res => setTimeout(res, delay));
                        return callGeminiAPI(prompt, retries - 1, delay * 2);
                    } else {
                        return "오류가 발생했습니다. 잠시 후 다시 시도해 주세요.";
                    }
                }
            }

            async function generateContent(prompt, title) {
                lastPrompt = prompt;
                modalTitle.textContent = title;
                modalText.innerHTML = ''; 
                modalLoader.style.display = 'flex';
                copySuccessMessage.classList.add('hidden');
                openModal();
                
                const result = await callGeminiAPI(prompt);
                
                modalLoader.style.display = 'none';
                const formattedResult = result.trim().replace(/\*\*(.*?)\*\*/g, '<strong class="font-bold text-gray-900">$1</strong>');
                modalText.innerHTML = formattedResult;
            }
            
            regenerateButton.addEventListener('click', () => {
                if(lastPrompt) {
                    generateContent(lastPrompt, modalTitle.textContent);
                }
            });

            copyButton.addEventListener('click', () => {
                const textToCopy = modalText.textContent;
                const textArea = document.createElement('textarea');
                textArea.value = textToCopy;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    copySuccessMessage.classList.remove('hidden');
                    setTimeout(() => copySuccessMessage.classList.add('hidden'), 2000);
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                }
                document.body.removeChild(textArea);
            });
            
            document.getElementById('persona-generator-btn')?.addEventListener('click', () => {
                const personaName = document.getElementById('persona-name').value;
                const personaAge = document.getElementById('persona-age').value;
                const personaLocation = document.getElementById('persona-location').value;
                const mainLivestock = document.getElementById('main-livestock').value;
                const personaGoals = document.getElementById('persona-goals').value;
                const personaChallenges = document.getElementById('persona-challenges').value;
                const personaPersonality = document.getElementById('persona-personality').value;
                const purchaseFactors = document.getElementById('purchase-factors').value;
                const infoSources = document.getElementById('info-sources').value;

                if (!personaName || !personaAge || !personaLocation || !mainLivestock || !personaGoals || !personaChallenges) {
                    alert('성격 및 가치관을 제외한 모든 항목을 채워주세요.'); // 실제 앱에서는 모달로 대체하는 것이 좋습니다.
                    return;
                }

                const prompt = `당신은 농축산 분야의 데이터 기반 영업 전략 전문가입니다. 다음 정보를 바탕으로 '팜스코' 사료를 구매할 가능성이 높은 잠재 고객 페르소나를 구체적으로 분석하고, 이 페르소나에게 효과적으로 접근할 수 있는 맞춤형 영업 전략을 3가지 제안해 주세요.

### 입력된 페르소나 정보
- **이름**: ${personaName}
- **나이**: ${personaAge}
- **주요 활동 지역**: ${personaLocation}
- **주력 축종 및 규모**: ${mainLivestock}
- **사업 목표**: ${personaGoals}
- **주요 어려움**: ${personaChallenges}
- **성격 및 가치관**: ${personaPersonality}
- **사료 선택 시 중요 요인**: ${purchaseFactors}
- **주요 정보 채널**: ${infoSources}

### 요청 사항
1.  **페르소나 심층 분석**: 제공된 정보를 바탕으로 페르소나의 성격, 가치관, 업무 스타일, 숨겨진 니즈(unmet needs)를 추론하여 상세히 기술해주세요.
2.  **맞춤형 영업 전략 제안**: 위 분석을 바탕으로, 신뢰를 형성하고 실질적인 가치를 제안할 수 있는 구체적인 영업 활동 3가지를 제안해주세요.
3.  **답변 형식**: 분석과 전략 제안을 명확히 구분하고, 전문적인 용어를 사용하되 이해하기 쉽게 설명해주세요. 답변에 굵은 글씨를 표현할 때는 **텍스트** 형식을 사용해주세요.`;
                
                generateContent(prompt, `'${personaName}' 페르소나 분석 및 전략`);
            });

            document.querySelectorAll('.script-generator-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const type = button.dataset.type;
                    const desc = button.dataset.desc;
                    const prompt = `당신은 노련한 영업 컨설턴트입니다. '${type}' 유형의 고객을 처음 만났을 때 사용할 SPIN 셀링 대화 스크립트를 한국어로 작성해 주세요.\n\n고객의 주요 특징은 다음과 같습니다: "${desc}".\n\n스크립트는 Situation(상황), Problem(문제), Implication(시사), Need-payoff(해결) 질문 순서에 따라 자연스러운 대화 흐름으로 구성해 주세요. 각 단계별로 고객이 스스로 생각하고 답할 수 있는 질문을 1~2개씩 포함시켜 주세요. 답변에 굵은 글씨를 표현할 때는 **텍스트** 형식을 사용해주세요.`;
                    generateContent(prompt, `'${type}' 고객 맞춤 SPIN 스크립트`);
                });
            });

            document.getElementById('objection-handler-btn')?.addEventListener('click', () => {
                const objectionInput = document.getElementById('objection-input');
                const objection = objectionInput.value.trim();
                if (!objection) {
                    objectionInput.focus();
                    return;
                }
                const prompt = `당신은 세계적인 세일즈 멘토입니다. 고객이 방금 "${objection}"이라는 거절을 했습니다. 이 상황에 영업사원이 대응할 수 있는 3가지 독창적이고 실행 가능한 전략을 한국어로 제안해 주세요. 각 전략은 간결하게 설명되어야 하고, 전문적인 어조를 유지해야 합니다. 번호 목록 형식으로 답변해 주세요. 답변에 굵은 글씨를 표현할 때는 **텍스트** 형식을 사용해주세요.`;
                generateContent(prompt, `"${objection}"에 대한 대처법`);
            });
            
            document.getElementById('followup-generator-btn')?.addEventListener('click', () => {
                const notesInput = document.getElementById('meeting-notes-input');
                const notes = notesInput.value.trim();
                 if (!notes) {
                    notesInput.focus();
                    return;
                }
                const prompt = `당신은 전문적인 세일즈 어시턴트입니다. 다음 미팅 노트를 기반으로 간결하고 정중한 후속 메시지(이메일 또는 문자) 초안을 한국어로 작성해 주세요. 메시지는 고객에게 감사 인사를 전하고, 핵심 내용을 요약하며, 다음 단계를 명확하게 제시해야 합니다. 답변에 굵은 글씨를 표현할 때는 **텍스트** 형식을 사용해주세요.\n\n미팅 노트:\n"${notes}"`;
                generateContent(prompt, "후속 메시지 초안");
            });

            document.getElementById('management-plan-generator-btn')?.addEventListener('click', () => {
                const customers = [
                    {
                        name: document.getElementById('cust1-name').value,
                        livestock: document.getElementById('cust1-livestock').value,
                        products: document.getElementById('cust1-products').value,
                        relation: document.getElementById('cust1-relation').value,
                        goals: document.getElementById('cust1-goals').value,
                        issues: document.getElementById('cust1-issues').value,
                    },
                    {
                        name: document.getElementById('cust2-name').value,
                        livestock: document.getElementById('cust2-livestock').value,
                        products: document.getElementById('cust2-products').value,
                        relation: document.getElementById('cust2-relation').value,
                        goals: document.getElementById('cust2-goals').value,
                        issues: document.getElementById('cust2-issues').value,
                    },
                    {
                        name: document.getElementById('cust3-name').value,
                        livestock: document.getElementById('cust3-livestock').value,
                        products: document.getElementById('cust3-products').value,
                        relation: document.getElementById('cust3-relation').value,
                        goals: document.getElementById('cust3-goals').value,
                        issues: document.getElementById('cust3-issues').value,
                    }
                ];

                const filledCustomers = customers.filter(c => c.name && c.livestock);

                if (filledCustomers.length === 0) {
                    alert('최소 한 명 이상의 핵심 고객 정보를 입력해주세요.');
                    return;
                }

                let customerInfoPrompt = '';
                filledCustomers.forEach((c, index) => {
                    customerInfoPrompt += `
### 고객 ${index + 1}: ${c.name}
- **주력 축종/규모**: ${c.livestock}
- **관계 수준**: ${c.relation}
- **현재 사용 제품**: ${c.products || '정보 없음'}
- **주요 목표/관심사**: ${c.goals || '정보 없음'}
- **최근 이슈**: ${c.issues || '정보 없음'}
`;
                });

                const prompt = `당신은 팜스코의 베테랑 지역 부장으로서, 담당 직원의 핵심 고객 관리를 코칭하는 역할입니다. 아래에 제공된 핵심 고객 3명의 정보를 바탕으로, 향후 3개월간 실행할 수 있는 구체적이고 실질적인 '고객 맞춤형 관리 계획'을 제안해 주세요.

---

**[핵심 고객 정보]**
${customerInfoPrompt}

---

**[요청 사항]**
1.  **기간**: 앞으로 3개월 (1개월차, 2개월차, 3개월차) 동안의 계획을 수립해주세요.
2.  **구조**: 각 고객별로 월별 실행 계획을 명확하게 구분하여 제시해주세요.
3.  **내용**: 계획에는 다음 활동들이 고객의 상황(목표, 이슈, 관계 수준)에 맞게 포함되어야 합니다.
    -   **데이터 기반 접근**: 어떤 데이터를 분석하고 제안할 것인가? (예: 농장 성적 분석, 사료 효율 데이터 비교)
    -   **가치 제안**: 고객의 목표 달성을 위해 어떤 팜스코 제품이나 서비스를 제안할 것인가?
    -   **관계 강화**: 신뢰를 쌓고 관계를 발전시키기 위한 활동은 무엇인가? (예: 정기 방문, 정보 제공, 세미나 초청)
    -   **문제 해결**: 현재 이슈를 해결하기 위한 구체적인 액션은 무엇인가?
4.  **형식**: 전문가의 조언처럼 친절하고 명확한 어조를 사용하고, 답변에 굵은 글씨를 표현할 때는 **텍스트** 형식을 사용해주세요.`;
                
                generateContent(prompt, `핵심고객 3개월 관리 플랜`);
            });

            document.getElementById('checklist-generator-btn')?.addEventListener('click', () => {
                const checklistContainer = document.getElementById('checklist-container');
                const checkedItems = Array.from(checklistContainer.querySelectorAll('input[type="checkbox"]:checked')).map(cb => cb.value);
                const customItems = document.getElementById('custom-checklist-items').value.trim().split('\n').filter(item => item);
                
                const finalChecklist = [...checkedItems, ...customItems];

                if (finalChecklist.length === 0) {
                    alert('체크리스트 항목을 하나 이상 선택하거나 추가해주세요.');
                    return;
                }

                let checklistPrompt = '';
                finalChecklist.forEach(item => {
                    checklistPrompt += `- ${item}\n`;
                });

                const prompt = `당신은 팜스코의 최고 영업 코치입니다. 아래는 한 영업사원이 자신만의 '영업 활동 체크리스트'로 선택한 항목들입니다. 이 체크리스트를 바탕으로, '팜스코 사료 영업'이라는 특정 상황에 맞춰 각 항목을 어떻게 더 효과적으로 실행할 수 있을지에 대한 구체적이고 실용적인 조언을 해주세요.

**[나의 영업 체크리스트]**
${checklistPrompt}

**[요청 사항]**
1. **상황 맞춤 조언**: 모든 조언은 '팜스코'와 '사료 영업'이라는 구체적인 비즈니스 환경에 초점을 맞춰주세요. (예: '타겟 고객 정의'라면, '한우 농가', '양돈 농가'의 특성을 고려하여 조언)
2. **실행 가능한 팁**: 각 체크리스트 항목별로 1~2개의 구체적인 실행 방안(Actionable Tip)을 제시해주세요.
3. **우선순위 제안**: 선택된 항목들 중 가장 먼저 집중해야 할 1~2가지 항목을 꼽고 그 이유를 설명해주세요.
4. **형식**: **절대로 표(table)를 사용하지 마세요.** 각 체크리스트 항목에 대한 조언을 **개조식(들여쓰기와 글머리 기호 사용)**으로 명확하게 구분하여 작성해주세요. 전문가의 조언처럼 친절하고 명확한 어조를 사용하고, 답변에 굵은 글씨를 표현할 때는 **텍스트** 형식을 사용해주세요.`;

                generateContent(prompt, '나만의 체크리스트 맞춤 조언');
            });


        });
    </script>
</body>
</html>

